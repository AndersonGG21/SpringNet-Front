<div class="container">
  <header class="header">
    <div class="logo-container" routerLink="/feed" style="cursor: pointer;">
      <img src="https://springnet-angular-app.s3.us-east-2.amazonaws.com/Logo.png" alt="SpringNet Logo" width="40px" />
      <span>SpringNet</span>
    </div>
    <div class="autocomplete-form">
      <button title="search-icon">
        <i class="pi pi-search" style="font-size: 1rem; color: #76777e"></i>
      </button>
      <p-autoComplete
        [(ngModel)]="selectedUser"
        [suggestions]="filteredUsers"
        field="@"
        [dropdown]="false"
        (completeMethod)="filterUsers($event)"
        (onSelect)="showSelectedUser()"
        ngClass="autocomplete"
        placeholder="Search"
      >
        <ng-template let-user pTemplate="item">
          <div class="user-item">
            <img src="{{ user.profileImg }}" width="30px" height="30px" alt="User profile"/>
            <div>{{ user.username }}</div>
          </div>
        </ng-template>
      </p-autoComplete>
    </div>
  </header>
  <nav class="sidebar-container">
    <ul class="sidebar">
      <li routerLink="/feed">
        <button
          class="icon-btn"
          title="Nav icon"
          [ngClass]="{ 'icon-btn-active': isLinkActive('/feed') }"
        >
          <img src="https://springnet-angular-app.s3.us-east-2.amazonaws.com/home.svg" alt="Home Icon" />
          <span class="icon-title">Home</span>
        </button>
      </li>
      <li routerLink="/chat">
        <button
          class="icon-btn"
          title="Nav icon"
          [ngClass]="{ 'icon-btn-active': isLinkActive('/chat') }"
        >
          <img src="https://springnet-angular-app.s3.us-east-2.amazonaws.com/chat-icon.svg" alt="Chat Icon" />
          <span class="icon-title">Chats</span>
        </button>
      </li>
      <li routerLink="/liked">
        <button
          class="icon-btn"
          title="Nav icon"
          [ngClass]="{ 'icon-btn-active': isLinkActive('/liked') }"
        >
          <img src="https://springnet-angular-app.s3.us-east-2.amazonaws.com/liked-icon.svg" alt="Liked Icon" />
          <span class="icon-title">Likes</span>
        </button>
      </li>
      <li (click)="redirectToSaved()">
        <button
          class="icon-btn"
          title="Nav icon"
          tabindex="0"
          [ngClass]="{ 'icon-btn-active': isLinkActive('/bookmarks') }"
        >
          <img src="https://springnet-angular-app.s3.us-east-2.amazonaws.com/saved-icon.svg" alt="Saved Icon" />
          <span class="icon-title">Saved</span>
        </button>
      </li>
      <li>
        <button class="icon-btn" (click)="menu.toggle($event)">
          <p-avatar
            image="{{ image }}"
            styleClass="mr-2"
            shape="circle"
            ngClass="avatar"
          ></p-avatar>
        </button>
      </li>
    </ul>
  </nav>
  <p-menu #menu [model]="items" [popup]="true"></p-menu>
</div>
