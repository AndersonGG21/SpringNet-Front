<div class="card">
  <div class="card-header">
    <div
      class="user"
      [routerLink]="['/profile', post.user.id]"
      style="cursor: pointer"
    >
      <img
        src="../../../assets/1.jpg"
        alt="user-profile"
        width="40px"
        height="40px"
      />
      <div class="user-text">
        <span style="font-size: 14px">{{ post.user.username }}</span>
        <span style="font-size: 10px; color: #76777e">{{
          formatDate(post.publicationDate)
        }}</span>
      </div>
    </div>
    <button>
      <i class="pi pi-ellipsis-h" style="color: black"></i>
    </button>
  </div>
  <div class="card-img">
    <img src="{{ post.image }}" alt="" />
  </div>
  <div class="card-actions">
    <div class="main-actions">
      <button class="heart" (click)="likePost()">
        <i class="pi pi-thumbs-up" [ngClass]="{ active: liked }"></i>
      </button>
      <button (click)="modalShow()">
        <i class="pi pi-comment"></i>
      </button>
      <button>
        <i class="pi pi-send"></i>
      </button>
    </div>
    <button>
      <i class="pi pi-bookmark"></i>
    </button>
  </div>
  <span style="font-size: 12px">Liked by miputamadre</span>
  <div class="card-desc">
    <p style="font-size: 12px">{{ post.content }}</p>
  </div>
  <ng-container *ngIf="stringLength(post.content) > 100">
    <button class="show-btn" (click)="toggleShow()">Show more</button>
  </ng-container>
</div>

<!-- Modal -->
<p-dialog
  [(visible)]="displayModal"
  [modal]="true"
  [style]="{ width: '70%' }"
  [draggable]="false"
  [resizable]="false"
  [showHeader]="false"
  [dismissableMask]="true"
>
  <div class="modal-body" style="height: 100%">
    <div class="modal-post" style="width: 700px">
      <img src="{{ post.image }}" alt="" />
    </div>
    <div class="detailBox">
      <div class="titleBox">
        <div class="commenterImage">
          <img src="http://placekitten.com/50/50" />
        </div>
        <p style="font-size: small;">@{{ post.user.username }}</p>
      </div>
      <div class="modal-desc">
        <p>{{post.content}}</p>
      </div>
      <div class="actionBox">
        <ul class="commentList">
          <li>
            <div class="commenterImage">
              <img src="http://placekitten.com/50/50" />
            </div>
            <div class="commentText">
              <p class="">Hello this is a test comment.</p>
              <span class="date sub-text">on March 5th, 2014</span>
            </div>
          </li>
          <li>
            <div class="commenterImage">
              <img src="http://placekitten.com/45/45" />
            </div>
            <div class="commentText">
              <p class="">
                Hello this is a test comment and this comment is particularly
                very long and it goes on and on and on.
              </p>
              <span class="date sub-text">on March 5th, 2014</span>
            </div>
          </li>
          <li>
            <div class="commenterImage">
              <img src="http://placekitten.com/40/40" />
            </div>
            <div class="commentText">
              <p class="">Hello this is a test comment.</p>
              <span class="date sub-text">on March 5th, 2014</span>
            </div>
          </li>
          <li>
            <div class="commenterImage">
              <img src="http://placekitten.com/40/40" />
            </div>
            <div class="commentText">
              <p class="">Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere possimus incidunt dolor aperiam beatae esse corporis ea eaque omnis! Aliquam quis quos officia, accusantium tenetur sapiente nisi saepe accusamus officiis. Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit consequatur eaque aliquam inventore quod commodi nihil, beatae voluptates animi corrupti perferendis iure porro minima laboriosam facilis quia velit dicta consequuntur! Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorum vel, eligendi reiciendis, deleniti libero iure magnam ratione in eius quibusdam ad ducimus inventore aut, nemo iusto! Atque, eaque. Iusto, facere?</p>
              <span class="date sub-text">on March 5th, 2014</span>
            </div>
          </li>
          <li>
            <div class="commenterImage">
              <img src="http://placekitten.com/40/40" />
            </div>
            <div class="commentText">
              <p class="">Hello this is a test comment.</p>
              <span class="date sub-text">on March 5th, 2014</span>
            </div>
          </li>
        </ul>
        <form class="form-inline" role="form">
          <div class="form-group">
            <input type="text" name="text" class="comment-input" placeholder="Write a message">
          </div>
          <button class="btn-comment">
            <p>Comment</p>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
              <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
              <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"/>
            </svg>
        </button>
        </form>
      </div>
    </div>
  </div>
</p-dialog>
