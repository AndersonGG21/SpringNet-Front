<div class="stories">
  <div class="story create-story" (click)="showStorySidebar()">
    <div class="actions">
      <i
        class="pi pi-plus-circle"
        style="font-size: 1.5rem; color: forestgreen"
      ></i>
      <strong>Create a Story</strong>
    </div>
  </div>
  <div class="action"></div>
  <ng-container *ngFor="let story of stories; index as i">
    <div
      class="story"
      [ngStyle]="{ 'background-image': 'url(&quot;' + story.media + '&quot;)' }"
      (click)="slideTo(i)"
    >
      <div class="profile-photos">
        <img src="{{ story.user.profileImg }}" alt="User profile" />
      </div>
    </div>
  </ng-container>
</div>
<!-- Slider -->

<p-dialog
  header="Stories"
  [(visible)]="visible"
  [modal]="true"
  styleClass="transparent"
  [draggable]="false"
  [resizable]="false"
>
  <div class="swiper-container">
    <div class="swiper-wrapper">
      <ng-container>
        <div class="swiper-slide" *ngFor="let story of stories">
          <div class="picture">
            <img src="{{ story.media }}" alt="Story image" />
            <div class="story-owner">
              <div class="profile-photos">
                <img src="{{ story.user.profileImg }}" alt="User profile" />
              </div>
              <p>{{ story.user.username }}</p>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</p-dialog>

<!-- Stroy Modal -->
<p-dialog
  header="Upload a Story"
  [(visible)]="sidebarVisible"
  [modal]="true"
  [style]="{ width: '40%' }"
  ngClass="modal"
  [draggable]="false"
  [resizable]="false"
>
  <form class="login-form">
    <div class="img-upload">
      <file-pond
        #myPond
        [options]="pondOptions"
        (onaddfile)="pondHandleAddFile($event)"
      >
      </file-pond>
    </div>
    <button (click)="createStory()" class="upload-btn" [disabled]="!enableButton" title="Create story button">
      Upload
      <p-badge styleClass="mr-2" severity="danger" value="Upload an image first" class="badge" [badgeDisabled]="enableButton"></p-badge>
    </button>
  </form>
</p-dialog>

<p-toast position="bottom-right" key="tc" ngClass="toast">
  <ng-template let-message pTemplate="message">
    <div class="flex flex-column" style="flex: 1">
        <div class="toast-message">
          <i class="pi pi-check" style="color: #4caf50"></i>
            <p>{{message.detail}}</p>
        </div>
    </div>
</ng-template>
</p-toast>
